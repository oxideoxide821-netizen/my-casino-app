<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Pro Farm Tycoon</title>
    <style>
        :root { --neon: #00ff88; --gold: #ffcc00; --bg: #0d130d; }
        body { 
            margin: 0; background: var(--bg); color: white; 
            font-family: 'Segoe UI', sans-serif; overflow: hidden;
            background-image: radial-gradient(circle at 50% 50%, #1a2e1a 0%, #0d130d 100%);
        }

        /* GUI –í–ï–†–• */
        #header { 
            padding: 20px; background: rgba(0,0,0,0.8); backdrop-filter: blur(15px); 
            border-bottom: 2px solid var(--neon); text-align: center;
        }
        .balance { font-size: 38px; font-weight: 900; color: var(--gold); }

        /* –°–ï–¢–ö–ê –ó–ê–ì–û–ù–û–í */
        #field {
            display: grid; grid-template-columns: 1fr 1fr; gap: 15px;
            padding: 20px; height: 65vh; overflow-y: auto;
        }

        .plot {
            background: rgba(255,255,255,0.05); border-radius: 30px; height: 160px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            position: relative; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }

        .locked { background: rgba(0,0,0,0.5); filter: grayscale(1); opacity: 0.5; border: 2px dashed #444; }
        .lock-icon { font-size: 24px; margin-bottom: 5px; }

        /* –û–ö–û–®–ö–û –î–õ–Ø –û–î–ù–û–ì–û –ñ–ò–í–û–¢–ù–û–ì–û */
        .sprite-window {
            width: 48px; height: 48px; overflow: hidden; position: relative;
            transform: scale(2.5); image-rendering: pixelated;
        }
        .sheet {
            position: absolute; left: 0; top: 0;
            animation: walk 0.8s steps(6) infinite;
        }
        @keyframes walk { from { left: 0; } to { left: -288px; } }

        /* –ú–∞–≥–∞–∑–∏–Ω –≤–Ω–∏–∑—É */
        .shop-bar {
            position: fixed; bottom: 0; width: 100%; background: #111; 
            padding: 20px; border-radius: 30px 30px 0 0; display: flex; gap: 10px; box-sizing: border-box;
        }
        .btn {
            flex: 1; background: var(--neon); color: #000; border: none; 
            padding: 15px; border-radius: 15px; font-weight: 900;
        }
    </style>
</head>
<body>

<div id="header">
    <div class="balance">üí∞ <span id="money">0</span></div>
    <div style="color:var(--neon); font-size:12px; margin-top:5px;">–î–û–•–û–î: +<span id="inc">0</span>/–°–ï–ö</div>
</div>

<div id="field"></div>

<div class="shop-bar">
    <button class="btn" onclick="buyPlot()">–ù–û–í–´–ô –ó–ê–ì–û–ù <br> <span id="price">500</span> üí∞</button>
</div>

<script>
    let money = parseInt(localStorage.getItem('f_m')) || 0;
    let unlocked = parseInt(localStorage.getItem('f_u')) || 1;

    function render() {
        const field = document.getElementById('field');
        field.innerHTML = '';
        for (let i = 1; i <= 8; i++) {
            const plot = document.createElement('div');
            if (i <= unlocked) {
                plot.className = 'plot';
                plot.innerHTML = `
                    <div class="sprite-window">
                        <img src="${i}.gif" class="sheet" style="height:48px">
                    </div>
                    <div style="width:40px; height:8px; background:rgba(0,0,0,0.3); border-radius:50%; margin-top:35px"></div>
                `;
                plot.onclick = () => { money += (unlocked * 10); update(); };
            } else {
                plot.className = 'plot locked';
                plot.innerHTML = `<div class="lock-icon">üîí</div><div style="font-size:10px">–ö–£–ü–ò–¢–¨</div>`;
                plot.onclick = () => buyPlot();
            }
            field.appendChild(plot);
        }
        update();
    }

    function buyPlot() {
        let cost = unlocked * 500;
        if (money >= cost && unlocked < 8) {
            money -= cost;
            unlocked++;
            render();
        }
    }

    function update() {
        document.getElementById('money').innerText = Math.floor(money);
        document.getElementById('inc').innerText = unlocked * 5;
        document.getElementById('price').innerText = unlocked * 500;
        localStorage.setItem('f_m', money);
        localStorage.setItem('f_u', unlocked);
    }

    setInterval(() => { money += (unlocked * 0.5); update(); }, 1000);
    render();
</script>
</body>
</html>
