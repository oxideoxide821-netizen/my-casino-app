<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Crypto Forest Tycoon</title>
    <style>
        :root {
            --neon: #00ff88; --gold: #ffcc00; --bg: #0a0f0a; --glass: rgba(255,255,255,0.1);
        }

        body {
            margin: 0; background: var(--bg); color: white;
            font-family: 'Segoe UI', Roboto, sans-serif; overflow: hidden;
            background-image: radial-gradient(circle at 50% 50%, #1a2e1a 0%, var(--bg) 100%);
        }

        /* GUI –í–ï–†–• */
        #header {
            padding: 20px; display: flex; flex-direction: column; gap: 10px;
            background: linear-gradient(to bottom, rgba(0,0,0,0.8), transparent);
        }

        .stats-row { display: flex; justify-content: space-between; align-items: center; }
        
        .main-balance { font-size: 42px; font-weight: 900; color: var(--gold); text-shadow: 0 0 20px rgba(255,204,0,0.4); }
        
        .xp-bar { width: 100%; height: 8px; background: #222; border-radius: 4px; overflow: hidden; }
        #xp-fill { width: 0%; height: 100%; background: var(--neon); transition: 0.3s; }

        /* –°–ö–†–û–õ–õ –ñ–ò–í–û–¢–ù–´–• */
        #animal-slider {
            display: flex; overflow-x: auto; scroll-snap-type: x mandatory;
            padding: 40px 0; gap: 20px; scrollbar-width: none;
        }
        #animal-slider::-webkit-scrollbar { display: none; }

        .animal-card {
            min-width: 280px; height: 380px; background: var(--glass);
            border-radius: 40px; scroll-snap-align: center;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(10px);
            position: relative; box-shadow: 0 20px 40px rgba(0,0,0,0.5);
        }

        /* –í–´–†–ï–ó–ê–ï–ú –û–î–ù–û–ì–û –ñ–ò–í–û–ì–û –ó–í–ï–†–Ø –ò–ó –¢–í–û–ï–ô –°–ï–¢–ö–ò */
        .sprite-viewport {
            width: 80px; height: 80px; overflow: hidden; position: relative;
            transform: scale(3.5); image-rendering: pixelated; margin-bottom: 40px;
        }
        .sprite-sheet {
            position: absolute; left: 0;
            animation: walk 0.8s steps(6) infinite;
        }
        @keyframes walk { from { left: 0; } to { left: -480px; } }

        .shadow {
            width: 100px; height: 20px; background: rgba(0,0,0,0.4);
            filter: blur(10px); border-radius: 50%; margin-top: -20px;
        }

        /* –ö–ù–û–ü–ö–ò –ú–ê–ì–ê–ó–ò–ù–ê */
        #footer {
            position: fixed; bottom: 0; width: 100%; padding: 20px;
            display: flex; justify-content: center; gap: 15px; box-sizing: border-box;
        }

        .btn {
            background: var(--neon); color: #000; border: none; padding: 15px 30px;
            border-radius: 20px; font-weight: 900; font-size: 16px; cursor: pointer;
            box-shadow: 0 10px 20px rgba(0,255,136,0.3); transition: 0.2s;
        }
        .btn:active { transform: scale(0.9); }

        #shop-panel {
            position: fixed; bottom: -100%; left: 0; width: 100%; height: 70vh;
            background: #0f140f; border-radius: 40px 40px 0 0; padding: 30px;
            z-index: 1000; transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            border-top: 2px solid var(--neon); overflow-y: auto;
        }

        .shop-item {
            background: rgba(255,255,255,0.05); padding: 20px; border-radius: 25px;
            display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;
        }

        /* –≠–§–§–ï–ö–¢–´ */
        .tap-vfx {
            position: absolute; color: var(--neon); font-weight: 900;
            font-size: 32px; pointer-events: none; animation: fly 0.6s forwards;
        }
        @keyframes fly { 0% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-100px); } }
    </style>
</head>
<body>

    <div id="header">
        <div class="stats-row">
            <span style="color: #888;">–£—Ä–æ–≤–µ–Ω—å <span id="lvl">1</span></span>
            <span style="color: var(--neon);">–î–æ—Ö–æ–¥: +<span id="pwr">10</span></span>
        </div>
        <div class="main-balance"><img src="Gold_1.png" style="width:30px"> <span id="money">0</span></div>
        <div class="xp-bar"><div id="xp-fill"></div></div>
    </div>

    <div id="animal-slider">
        <!-- –°–ª–∞–π–¥—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
    </div>

    <div id="footer">
        <button class="btn" onclick="toggleShop(true)">–ú–ê–ì–ê–ó–ò–ù üõí</button>
    </div>

    <div id="shop-panel">
        <div style="display:flex; justify-content:space-between; align-items:center;">
            <h2>–£–ª—É—á—à–µ–Ω–∏—è</h2>
            <button onclick="toggleShop(false)" style="background:none; border:none; color:#666; font-size:30px;">√ó</button>
        </div>
        
        <div class="shop-item">
            <div><b>üí™ –°–∏–ª–∞ —Ç–∞–ø–∞</b><br><small id="cost1">–¶–µ–Ω–∞: 100</small></div>
            <button class="btn" onclick="buy(1)">–ö—É–ø–∏—Ç—å</button>
        </div>
        <div class="shop-item">
            <div><b>‚ö° –ê–≤—Ç–æ-–∫–ª–∏–∫</b><br><small id="cost2">–¶–µ–Ω–∞: 500</small></div>
            <button class="btn" onclick="buy(2)">–ö—É–ø–∏—Ç—å</button>
        </div>
        <div class="shop-item">
            <div><b>üìà –ú–Ω–æ–∂–∏—Ç–µ–ª—å XP</b><br><small id="cost3">–¶–µ–Ω–∞: 1000</small></div>
            <button class="btn" onclick="buy(3)">–ö—É–ø–∏—Ç—å</button>
        </div>
    </div>

    <script>
        let state = JSON.parse(localStorage.getItem('farm_save')) || {
            money: 0, power: 10, lvl: 1, xp: 0, 
            costs: [100, 500, 1000], auto: 0, mult: 1
        };

        const slider = document.getElementById('animal-slider');

        function init() {
            for(let i=1; i<=8; i++) {
                const card = document.createElement('div');
                card.className = 'animal-card';
                card.innerHTML = `
                    <div class="sprite-viewport">
                        <img src="${i}.gif" class="sprite-sheet" style="width:480px">
                    </div>
                    <div class="shadow"></div>
                    <h3 style="margin-top:20px">–ó–≤–µ—Ä—å #${i}</h3>
                    <p style="color:#666">–¢–∞–ø–∞–π, —á—Ç–æ–±—ã –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å</p>
                `;
                card.onclick = (e) => tap(e);
                slider.appendChild(card);
            }
            update();
            setInterval(() => { if(state.auto > 0) { state.money += state.auto; update(); } }, 1000);
        }

        function tap(e) {
            state.money += state.power;
            state.xp += 2 * state.mult;
            if(state.xp >= 100) { state.xp = 0; state.lvl++; }
            
            const v = document.createElement('div');
            v.className = 'tap-vfx'; v.innerText = `+${state.power}`;
            v.style.left = e.clientX + 'px'; v.style.top = e.clientY + 'px';
            document.body.appendChild(v);
            setTimeout(() => v.remove(), 600);
            update();
        }

        function buy(type) {
            let c = state.costs[type-1];
            if(state.money >= c) {
                state.money -= c;
                if(type === 1) state.power += 5;
                if(type === 2) state.auto += 2;
                if(type === 3) state.mult += 0.5;
                state.costs[type-1] = Math.round(c * 1.6);
                update();
            }
        }

        function update() {
            document.getElementById('money').innerText = Math.floor(state.money);
            document.getElementById('pwr').innerText = state.power;
            document.getElementById('lvl').innerText = state.lvl;
            document.getElementById('xp-fill').style.width = state.xp + '%';
            document.getElementById('cost1').innerText = `–¶–µ–Ω–∞: ${state.costs[0]}`;
            document.getElementById('cost2').innerText = `–¶–µ–Ω–∞: ${state.costs[1]}`;
            document.getElementById('cost3').innerText = `–¶–µ–Ω–∞: ${state.costs[2]}`;
            localStorage.setItem('farm_save', JSON.stringify(state));
        }

        function toggleShop(show) {
            document.getElementById('shop-panel').style.bottom = show ? '0' : '-100%';
        }

        init();
    </script>
</body>
</html>
