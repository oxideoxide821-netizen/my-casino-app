<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <script src="https://telegram.org"></script>
    <link href="https://fonts.googleapis.com" rel="stylesheet">
    <style>
        :root { --gold: #f3ba2f; --bg: #05070a; --card: #151921; --accent: #2ed573; --fail: #ff4757; }
        body { background: var(--bg); color: white; font-family: 'Montserrat', sans-serif; margin: 0; padding: 0; overflow: hidden; height: 100vh; }
        
        /* –•–µ–¥–µ—Ä */
        .header { padding: 15px; display: flex; justify-content: space-between; align-items: center; background: #0d1117; border-bottom: 2px solid #1c2128; }
        .balance { display: flex; align-items: center; gap: 8px; font-size: 22px; font-weight: 900; color: var(--gold); font-family: 'Orbitron'; }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .content { height: 72vh; overflow-y: auto; padding: 15px; display: none; }
        .content.active { display: block; }

        /* –ö–Ω–æ–ø–∫–∏ –º–µ–Ω—é —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π */
        .nav { position: fixed; bottom: 0; width: 100%; background: #0d1117; display: flex; justify-content: space-around; padding: 12px 0; border-top: 1px solid #1c2128; }
        .nav-btn { display: flex; flex-direction: column; align-items: center; gap: 4px; color: #57606a; font-size: 10px; transition: 0.3s; cursor: pointer; }
        .nav-btn.active { color: var(--gold); transform: scale(1.1); }
        .nav-btn:active { transform: scale(0.9); }

        /* –ö–ï–ô–°–´ */
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .card { background: var(--card); border-radius: 15px; padding: 15px; text-align: center; border: 1px solid #1c2128; transition: 0.2s; }
        .card:active { border-color: var(--gold); background: #1c222d; }

        /* –î–û–î–ï–ü (–†–£–õ–ï–¢–ö–ê –®–ê–ù–°–ê) */
        .dodep-box { text-align: center; padding: 20px; background: var(--card); border-radius: 20px; }
        .circle-wrap { width: 200px; height: 200px; margin: 20px auto; position: relative; border-radius: 50%; background: conic-gradient(var(--accent) 0% 60%, var(--fail) 60% 100%); border: 5px solid #222; }
        .arrow { position: absolute; top: 0; left: 50%; width: 4px; height: 100px; background: white; transform-origin: bottom center; transition: transform 3s cubic-bezier(0.1, 0, 0.1, 1); z-index: 5; }

        /* –†–£–õ–ï–¢–ö–ê –í–†–ê–©–ï–ù–ò–Ø (–ö–µ–π—Å—ã) */
        #roulette-ui { position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 2000; display: none; flex-direction: column; align-items: center; justify-content: center; }
        .reel-container { width: 100%; height: 120px; overflow: hidden; position: relative; background: #0a0a0a; border: 2px solid #222; }
        .reel { display: flex; position: absolute; transition: transform 6s cubic-bezier(0.1, 0, 0.1, 1); }
        .item { min-width: 100px; height: 120px; display: flex; flex-direction: column; align-items: center; justify-content: center; border-right: 1px solid #111; }
        .pointer { position: absolute; left: 50%; width: 4px; height: 100%; background: var(--gold); z-index: 10; transform: translateX(-50%); box-shadow: 0 0 15px var(--gold); }
    </style>
</head>
<body>

    <div class="header">
        <div class="balance">ü™ô <span id="bal">10000</span></div>
        <div style="font-size:10px; color:#aaa">RANK: <span style="color:var(--gold)">DEB LORD</span></div>
    </div>

    <!-- –í–ö–õ–ê–î–ö–ê –ö–ï–ô–°–´ -->
    <div id="cases" class="content active">
        <div class="grid">
            <div class="card" onclick="openCase('BOMZH', 500)">üì¶<br>BOMZH<br><small>500 ü™ô</small></div>
            <div class="card" onclick="openCase('HAMSTER', 2000)">üêπ<br>HAMSTER<br><small>2000 ü™ô</small></div>
            <div class="card" onclick="openCase('LAMBO', 10000)">üèéÔ∏è<br>LAMBO<br><small>10K ü™ô</small></div>
            <div class="card" onclick="openCase('ADMIN', 50000)">üëë<br>ADMIN<br><small>50K ü™ô</small></div>
        </div>
    </div>

    <!-- –í–ö–õ–ê–î–ö–ê –î–û–î–ï–ü -->
    <div id="dodep" class="content">
        <div class="dodep-box">
            <h2>üé∞ –í–ê-–ë–ê–ù–ö (60% –®–ê–ù–°)</h2>
            <div class="circle-wrap"><div id="arrow" class="arrow"></div></div>
            <button onclick="spinDodep()" style="padding:15px 40px; border-radius:10px; background:var(--gold); border:none; font-weight:900;">–î–û–î–ï–ü–ê–¢–¨ –í–°–Å!</button>
        </div>
    </div>

    <!-- –í–ö–õ–ê–î–ö–ê –ë–û–°–° -->
    <div id="boss" class="content">
        <div style="text-align:center; padding:40px;">
            <div style="font-size:80px;" onclick="clickBoss()">üëπ</div>
            <h3>–†–ï–ô–î –ù–ê –ü–ê–í–õ–ê</h3>
            <p>–ñ–º–∏ –Ω–∞ –±–æ—Å—Å–∞, —á—Ç–æ–±—ã –≤—ã–±–∏—Ç—å –º–æ–Ω–µ—Ç—ã!</p>
        </div>
    </div>

    <!-- –≠–ö–†–ê–ù –†–£–õ–ï–¢–ö–ò -->
    <div id="roulette-ui">
        <h2 id="r-status">–í–†–ê–©–ï–ù–ò–ï...</h2>
        <div class="reel-container">
            <div class="pointer"></div>
            <div id="reel" class="reel"></div>
        </div>
        <button onclick="closeR()" id="close-btn" style="display:none; margin-top:30px; padding:15px 40px; background:var(--accent); border:none; border-radius:10px;">–ó–ê–ë–†–ê–¢–¨</button>
    </div>

    <!-- –ú–ï–ù–Æ -->
    <div class="nav">
        <div class="nav-btn active" onclick="tab('cases', this)"><span>üì¶</span><span>–ö–µ–π—Å—ã</span></div>
        <div class="nav-btn" onclick="tab('dodep', this)"><span>üöÄ</span><span>–î–æ–¥–µ–ø</span></div>
        <div class="nav-btn" onclick="tab('boss', this)"><span>üëπ</span><span>–†–µ–π–¥</span></div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();
        let balance = 10000;

        function tab(id, el) {
            document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            el.classList.add('active');
            tg.HapticFeedback.impactOccurred('light');
        }

        function openCase(name, price) {
            if (balance < price) { tg.showAlert("–ú–∞–ª–æ –º–æ–Ω–µ—Ç –¥–ª—è –¥–µ–ø–∞!"); return; }
            balance -= price; updateB();
            
            document.getElementById('roulette-ui').style.display = 'flex';
            let reel = document.getElementById('reel');
            reel.innerHTML = ''; reel.style.transition = 'none'; reel.style.transform = 'translateX(0)';

            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º 400 –ø—Ä–µ–¥–º–µ—Ç–æ–≤!
            for(let i=0; i<400; i++) {
                let winChance = Math.random();
                let icon = winChance > 0.9 ? 'üíé' : 'üçï';
                let txt = winChance > 0.9 ? 'LEGEND' : 'TRASH';
                reel.innerHTML += `<div class="item"><span>${icon}</span><small>${txt}</small></div>`;
            }

            setTimeout(() => {
                reel.style.transition = 'transform 6s cubic-bezier(0.1, 0, 0.1, 1)';
                let move = 390 * 100;
                reel.style.transform = `translateX(-${move}px)`;
                tg.HapticFeedback.notificationOccurred('success');
            }, 50);

            setTimeout(() => {
                let win = Math.floor(price * (Math.random() * 5));
                balance += win; updateB();
                document.getElementById('r-status').innerText = "–í–´–ò–ì–†–´–®: " + win + " ü™ô";
                document.getElementById('close-btn').style.display = 'block';
            }, 6200);
        }

        function spinDodep() {
            let arrow = document.getElementById('arrow');
            let deg = 1800 + Math.floor(Math.random() * 360);
            arrow.style.transform = `rotate(${deg}deg)`;
            
            setTimeout(() => {
                let finalDeg = deg % 360;
                if (finalDeg <= 216) { // 60% –æ—Ç 360 —ç—Ç–æ 216 –≥—Ä–∞–¥—É—Å–æ–≤
                    balance *= 2; tg.showAlert("üî• –£–°–ü–ï–®–ù–´–ô –î–û–î–ï–ü! X2");
                } else {
                    balance = 0; tg.showAlert("üíÄ –°–õ–ò–õ –í–°–Å! –ò–¥–∏ –∫–ª–∏–∫–∞–π –±–æ—Å—Å–∞.");
                }
                updateB();
            }, 3200);
        }

        function clickBoss() { balance += 10; updateB(); tg.HapticFeedback.selectionChanged(); }
        function updateB() { document.getElementById('bal').innerText = balance.toLocaleString(); }
        function closeR() { document.getElementById('roulette-ui').style.display='none'; document.getElementById('close-btn').style.display='none'; }
    </script>
</body>
</html>