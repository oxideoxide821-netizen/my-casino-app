<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Forest Tycoon Pro</title>
    <style>
        :root { --neon: #00ff88; --gold: #ffcc00; --bg: #0d130d; }
        body { 
            margin: 0; background: var(--bg); color: white; 
            font-family: 'Segoe UI', sans-serif; overflow: hidden;
            background-image: radial-gradient(circle at 50% 50%, #1a2e1a 0%, #0d130d 100%);
        }

        /* GUI */
        #header { padding: 25px; background: rgba(0,0,0,0.6); backdrop-filter: blur(15px); border-bottom: 1px solid rgba(255,255,255,0.1); }
        .balance { font-size: 48px; font-weight: 900; color: var(--gold); text-shadow: 0 0 15px rgba(255,204,0,0.3); text-align: center; }
        .income { text-align: center; color: var(--neon); font-size: 14px; font-weight: bold; margin-top: 5px; }

        /* –°–ö–†–û–õ–õ–ï–† –ñ–ò–í–û–¢–ù–´–• */
        #slider {
            display: flex; overflow-x: auto; scroll-snap-type: x mandatory;
            padding: 50px 0; gap: 20px; scrollbar-width: none;
        }
        #slider::-webkit-scrollbar { display: none; }

        .card {
            min-width: 85vw; height: 450px; background: rgba(255,255,255,0.05);
            border-radius: 40px; scroll-snap-align: center;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            border: 1px solid rgba(255,255,255,0.1); margin: 0 20px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.5);
        }

        /* –£–ú–ù–û–ï –û–ö–û–®–ö–û –ê–ù–ò–ú–ê–¶–ò–ò */
        .sprite-box {
            width: 64px; height: 64px; /* –†–∞–∑–º–µ—Ä –æ–¥–Ω–æ–≥–æ –∑–≤–µ—Ä—è */
            overflow: hidden; position: relative;
            transform: scale(4); /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –≤ 4 —Ä–∞–∑–∞ */
            image-rendering: pixelated;
        }
        .sheet {
            position: absolute; left: 0; top: 0;
            /* –ê–Ω–∏–º–∞—Ü–∏—è: —Å–¥–≤–∏–≥–∞–µ–º —Å–µ—Ç–∫—É, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å —Ç–æ–ª—å–∫–æ 1 –∫–∞–¥—Ä */
            animation: play 0.8s steps(6) infinite; 
        }
        @keyframes play {
            from { transform: translateX(0); }
            to { transform: translateX(-384px); } /* 64px * 6 –∫–∞–¥—Ä–æ–≤ */
        }

        .shadow { width: 120px; height: 15px; background: rgba(0,0,0,0.4); border-radius: 50%; filter: blur(8px); margin-top: 50px; }

        /* –ú–ê–ì–ê–ó–ò–ù */
        #shop-btn {
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
            background: var(--neon); color: #000; border: none; padding: 18px 50px;
            border-radius: 50px; font-weight: 900; font-size: 18px; box-shadow: 0 10px 30px rgba(0,255,136,0.4);
        }

        #shop {
            position: fixed; bottom: -100%; left: 0; width: 100%; height: 60vh;
            background: #111; border-radius: 40px 40px 0 0; padding: 30px;
            z-index: 1000; transition: 0.5s; border-top: 3px solid var(--neon); box-sizing: border-box;
        }
        .item { background: rgba(255,255,255,0.05); padding: 20px; border-radius: 20px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        
        .vfx { position: absolute; color: var(--neon); font-weight: 900; font-size: 30px; animation: fly 0.6s forwards; pointer-events: none; }
        @keyframes fly { 0% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-120px); } }
    </style>
</head>
<body>

<div id="header">
    <div class="balance">üí∞ <span id="money">0</span></div>
    <div class="income">–ü–†–ò–ë–´–õ–¨: +<span id="power">10</span></div>
</div>

<div id="slider"></div>

<button id="shop-btn" onclick="openShop()">–ú–ê–†–ö–ï–¢ üõí</button>

<div id="shop">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
        <h2>–ú–∞–≥–∞–∑–∏–Ω</h2>
        <button onclick="closeShop()" style="background:none; border:none; color:white; font-size:30px;">√ó</button>
    </div>
    <div class="item">
        <div><b>üí™ –°–∏–ª–∞ —Ç–∞–ø–∞</b><br><small id="cost-t">–¶–µ–Ω–∞: 100</small></div>
        <button onclick="buy(1)" style="background:var(--neon); border:none; padding:10px 20px; border-radius:10px; font-weight:bold;">–ö—É–ø–∏—Ç—å</button>
    </div>
    <div class="item">
        <div><b>ü§ñ –ê–≤—Ç–æ-–±–æ—Ç</b><br><small id="cost-a">–¶–µ–Ω–∞: 500</small></div>
        <button onclick="buy(2)" style="background:var(--neon); border:none; padding:10px 20px; border-radius:10px; font-weight:bold;">–ö—É–ø–∏—Ç—å</button>
    </div>
</div>

<script>
    let money = parseInt(localStorage.getItem('m')) || 0;
    let power = parseInt(localStorage.getItem('p')) || 10;
    let auto = parseInt(localStorage.getItem('a')) || 0;
    let costT = parseInt(localStorage.getItem('ct')) || 100;
    let costA = parseInt(localStorage.getItem('ca')) || 500;

    function init() {
        const slider = document.getElementById('slider');
        for(let i=1; i<=8; i++) {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <div class="sprite-box">
                    <img src="${i}.gif" class="sheet" style="height:100%">
                </div>
                <div class="shadow"></div>
                <h2 style="margin-top:40px">–£–†–û–í–ï–ù–¨ ${i}</h2>
                <p style="color:#666">–ù–∞–∂–∏–º–∞–π –Ω–∞ –∑–≤–µ—Ä—è!</p>
            `;
            card.onclick = (e) => tap(e);
            slider.appendChild(card);
        }
        update();
        setInterval(() => { if(auto > 0) { money += auto; update(); } }, 1000);
    }

    function tap(e) {
        money += power;
        const v = document.createElement('div');
        v.className = 'vfx'; v.innerText = `+${power}`;
        v.style.left = e.clientX + 'px'; v.style.top = e.clientY + 'px';
        document.body.appendChild(v);
        setTimeout(() => v.remove(), 600);
        update();
    }

    function buy(type) {
        if(type === 1 && money >= costT) {
            money -= costT; power += 5; costT = Math.round(costT * 1.6);
        } else if(type === 2 && money >= costA) {
            money -= costA; auto += 2; costA = Math.round(costA * 1.8);
        }
        update();
    }

    function update() {
        document.getElementById('money').innerText = Math.floor(money);
        document.getElementById('power').innerText = power;
        document.getElementById('cost-t').innerText = `–¶–µ–Ω–∞: ${costT}`;
        document.getElementById('cost-a').innerText = `–¶–µ–Ω–∞: ${costA}`;
        localStorage.setItem('m', money);
        localStorage.setItem('p', power);
        localStorage.setItem('a', auto);
        localStorage.setItem('ct', costT);
        localStorage.setItem('ca', costA);
    }

    function openShop() { document.getElementById('shop').style.bottom = '0'; }
    function closeShop() { document.getElementById('shop').style.bottom = '-100%'; }

    init();
</script>
</body>
</html>
