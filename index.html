<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ZENITH // NEURAL</title>
    <script src="https://cdnjs.cloudflare.com"></script>
    <script src="https://telegram.org"></script>
    <style>
        @import url('https://fonts.googleapis.com');
        
        :root { --accent: #fff; --bg: #000; --panel: rgba(255, 255, 255, 0.05); }
        body { margin: 0; padding: 0; background: var(--bg); color: #fff; font-family: 'Manrope', sans-serif; overflow: hidden; -webkit-font-smoothing: antialiased; }

        /* Верхняя статус-линия */
        #header {
            position: absolute; top: 25px; width: 100%; display: flex; justify-content: center;
            font-size: 10px; letter-spacing: 4px; font-weight: 200; opacity: 0.5; z-index: 1000;
        }

        /* Основной блок управления */
        #control-center {
            position: absolute; bottom: 50px; left: 50%; transform: translateX(-50%);
            width: 88%; z-index: 1000; transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .glass-card {
            background: var(--panel); border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(40px); border-radius: 35px; padding: 25px;
            box-shadow: 0 40px 100px rgba(0,0,0,0.8);
        }

        input {
            width: 100%; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08);
            border-radius: 20px; padding: 20px; color: #fff; font-size: 16px;
            box-sizing: border-box; outline: none; margin-bottom: 20px; text-align: center;
            font-family: 'Manrope'; font-weight: 200; transition: 0.4s;
        }
        input:focus { background: rgba(255,255,255,0.06); border-color: rgba(255,255,255,0.2); }

        .btn-prime {
            width: 100%; padding: 22px; background: #fff; color: #000;
            border: none; border-radius: 22px; font-weight: 800; font-size: 13px;
            letter-spacing: 2px; text-transform: uppercase; cursor: pointer;
            transition: 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .btn-prime:active { transform: scale(0.96); opacity: 0.8; }

        /* Эффект виньетки */
        .vignette {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, transparent 30%, rgba(0,0,0,0.9) 100%);
            pointer-events: none; z-index: 500;
        }

        /* Индикатор загрузки Creator */
        #creator-status { 
            display: none; position: absolute; top: -30px; width: 100%; text-align: center;
            font-size: 9px; letter-spacing: 3px; color: #fff; opacity: 0.4;
        }
    </style>
</head>
<body>
    <div class="vignette"></div>
    <div id="header">NEURAL FREQUENCY // STABLE</div>

    <div id="control-center">
        <div id="creator-status">IDENTITY: RANDOM06 // GOD_MODE</div>
        <div class="glass-card">
            <input type="text" id="prompt" placeholder="SAY SOMETHING..." autocomplete="off">
            <button class="btn-prime" onmousedown="start()" onmouseup="stop()" ontouchstart="start()" ontouchend="stop()">
                ACTIVATE NEURAL LINK
            </button>
        </div>
    </div>

<script>
let tg = window.Telegram.WebApp;
tg.expand();
tg.backgroundColor = '#000000';
tg.headerColor = '#000000';

const USER = "Random06";
let isCreator = tg.initDataUnsafe?.user?.username === USER;
let active = false;
let morph = 0;
let points = [];
let blobs = [];

if(isCreator) document.getElementById('creator-status').style.display = 'block';

function setup() {
    createCanvas(windowWidth, windowHeight);
    for(let i=0; i<15; i++) blobs.push(new SoftBlob());
}

function draw() {
    background(0, 0, 0, isCreator ? 40 : 80);
    
    // Плавные фоновые формы
    blobs.forEach(b => { b.update(); b.show(); });

    if(active) {
        morph = lerp(morph, 1, 0.05);
        translate(width/2, height/2 - 80);
        
        noFill();
        stroke(255, 255 * morph);
        strokeWeight(isCreator ? 3 : 1.5);
        
        // Рисуем ртутный узор
        beginShape();
        points.forEach((p, i) => {
            let d = noise(frameCount * 0.01 + i) * (isCreator ? 60 : 30) * morph;
            let x = (p.x * 120 + cos(frameCount * 0.02 + i) * d) * morph;
            let y = (p.y * 120 + sin(frameCount * 0.02 + i) * d) * morph;
            curveVertex(x, y);
            if(isCreator && i % 3 == 0) {
                push(); fill(255, 100); noStroke(); ellipse(x, y, 4, 4); pop();
            }
        });
        endShape(CLOSE);
        
        // Тактильный пульс
        if(frameCount % 30 === 0) tg.HapticFeedback.impactOccurred('medium');
    } else {
        morph = lerp(morph, 0, 0.1);
    }
}

function start() {
    let inp = document.getElementById('prompt').value;
    if(!inp) return;
    
    active = true;
    points = [];
    let seed = 0;
    for(let i=0; i<inp.length; i++) seed += inp.charCodeAt(i);
    
    for(let i=0; i<24; i++) {
        let a = map(i, 0, 24, 0, TWO_PI);
        points.push({x: cos(a), y: sin(a)});
    }
    
    document.getElementById('control-center').style.transform = "translateX(-50%) scale(0.95)";
    document.getElementById('control-center').style.opacity = "0.4";
    tg.HapticFeedback.notificationOccurred('success');
}

function stop() {
    active = false;
    document.getElementById('control-center').style.transform = "translateX(-50%) scale(1)";
    document.getElementById('control-center').style.opacity = "1";
}

class SoftBlob {
    constructor() { this.pos = createVector(random(width), random(height)); this.vel = p5.Vector.random2D().mult(0.5); this.r = random(100, 300); }
    update() { 
        this.pos.add(this.vel); 
        if(this.pos.x < -200 || this.pos.x > width + 200) this.vel.x *= -1;
        if(this.pos.y < -200 || this.pos.y > height + 200) this.vel.y *= -1;
    }
    show() {
        noStroke();
        let grad = drawingContext.createRadialGradient(this.pos.x, this.pos.y, 0, this.pos.x, this.pos.y, this.r);
        grad.addColorStop(0, isCreator ? 'rgba(255,255,255,0.08)' : 'rgba(255,255,255,0.03)');
        grad.addColorStop(1, 'rgba(0,0,0,0)');
        drawingContext.fillStyle = grad;
        ellipse(this.pos.x, this.pos.y, this.r * 2);
    }
}

function windowResized() { resizeCanvas(windowWidth, windowHeight); }
</script>
</body>
</html>
