<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://telegram.org"></script>
    <script src="https://unpkg.com"></script>
    <style>
        @import url('https://fonts.googleapis.com');
        :root { --gold: #ffca28; --neon: #ff0055; --bg: #050000; }
        body { background: var(--bg); color: #fff; font-family: 'Montserrat', sans-serif; margin: 0; overflow: hidden; height: 100vh; }
        
        /* –ö–û–°–ú–ò–ß–ï–°–ö–ò–ô –§–û–ù */
        #nebula { position: fixed; top: 0; left: 0; z-index: 0; filter: blur(1px); }

        .app { position: relative; z-index: 10; display: flex; flex-direction: column; height: 100vh; background: radial-gradient(circle at center, rgba(255, 0, 85, 0.05) 0%, transparent 80%); }
        
        .header { padding: 20px; display: flex; justify-content: space-between; align-items: center; background: rgba(0,0,0,0.6); backdrop-filter: blur(20px); border-bottom: 1px solid rgba(255,255,255,0.05); }
        .stars { background: rgba(255,255,255,0.05); border: 1px solid var(--gold); padding: 7px 15px; border-radius: 50px; font-family: 'Syncopate'; font-size: 14px; color: var(--gold); box-shadow: 0 0 20px rgba(255,202,40,0.2); }

        .page { flex: 1; overflow-y: auto; padding: 20px; padding-bottom: 110px; display: none; scroll-behavior: smooth; }
        .page.active { display: block; animation: epicShow 0.4s cubic-bezier(0.18, 0.89, 0.32, 1.28); }
        @keyframes epicShow { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }

        /* –†–£–õ–ï–¢–ö–ê */
        .roulette-box { background: rgba(255,255,255,0.03); border-radius: 30px; padding: 25px 0; border: 1px solid rgba(255,255,255,0.05); position: relative; margin: 20px 0; overflow: hidden; }
        .pointer { position: absolute; left: 50%; transform: translateX(-50%); width: 4px; height: 100%; background: var(--neon); z-index: 20; box-shadow: 0 0 15px var(--neon); top: 0; }
        .tape { display: flex; transition: transform 5s cubic-bezier(0.1, 0, 0.1, 1); padding-left: 50%; }
        .nft-slot { min-width: 120px; height: 120px; margin: 0 10px; background: rgba(255,255,255,0.05); border-radius: 20px; display: flex; align-items: center; justify-content: center; border: 1px solid rgba(255,255,255,0.05); }
        .nft-slot img { width: 80%; filter: drop-shadow(0 0 10px rgba(0,0,0,0.5)); }

        /* –ö–ù–û–ü–ö–ò –†–ï–ñ–ò–ú–û–í */
        .mode-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .m-card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.07); border-radius: 25px; padding: 20px; text-align: center; transition: 0.3s; }
        .m-card:active { transform: translateY(4px); background: rgba(255,255,255,0.1); }
        .m-icon { font-size: 35px; margin-bottom: 8px; filter: drop-shadow(0 0 8px var(--gold)); }

        /* –ù–ê–í–ò–ì–ê–¶–ò–Ø */
        .nav { position: fixed; bottom: 20px; left: 20px; right: 20px; background: rgba(10,10,10,0.85); backdrop-filter: blur(25px); height: 75px; border-radius: 28px; display: flex; border: 1px solid rgba(255,255,255,0.08); box-shadow: 0 15px 40px rgba(0,0,0,0.6); }
        .n-item { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #555; transition: 0.3s; }
        .n-item.active { color: #fff; text-shadow: 0 0 10px #fff; }
        .n-item i { font-size: 22px; margin-bottom: 4px; }
        .n-item span { font-size: 10px; font-weight: 900; text-transform: uppercase; letter-spacing: 1px; }

        .btn-main { background: #fff; color: #000; border: none; width: 100%; padding: 20px; border-radius: 20px; font-weight: 900; font-size: 18px; margin-top: 20px; box-shadow: 0 10px 30px rgba(255,255,255,0.2); }
    </style>
</head>
<body>
    <canvas id="nebula"></canvas>
    <div class="app">
        <div class="header">
            <div style="font-family: 'Syncopate'; font-size: 18px; letter-spacing: -1px;">ELITE DEB AI</div>
            <div class="stars" id="bal">540,000 ‚≠ê</div>
        </div>

        <!-- –ì–õ–ê–í–ù–´–ô –≠–ö–†–ê–ù -->
        <div id="p-home" class="page active">
            <div class="roulette-box">
                <div class="pointer"></div>
                <div class="tape" id="tape"></div>
            </div>
            <button class="btn-main" onclick="spin()">–†–ê–°–ö–†–£–¢–ò–¢–¨ –†–£–õ–ï–¢–ö–£</button>
            <div style="margin-top: 30px;" class="mode-grid">
                <div class="m-card">
                    <div class="m-icon">üíé</div>
                    <div style="font-weight:900; font-size:12px;">–ú–ê–ì–ê–ó–ò–ù</div>
                </div>
                <div class="m-card" onclick="tab('p-refs', document.querySelectorAll('.n-item')[2])">
                    <div class="m-icon">üë•</div>
                    <div style="font-weight:900; font-size:12px;">–î–†–£–ó–¨–Ø</div>
                </div>
            </div>
        </div>

        <!-- –°–ö–õ–ê–î (–ò–ù–í–ï–ù–¢–ê–†–¨) -->
        <div id="p-inv" class="page">
            <h2 style="text-align: center; font-family: 'Syncopate';">INVENTORY</h2>
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;" id="inv-grid"></div>
        </div>

        <!-- –†–ï–§–ï–†–ê–õ–´ -->
        <div id="p-refs" class="page">
            <h2 style="text-align: center; font-family: 'Syncopate';">REFERRALS</h2>
            <div class="m-card" style="width: 80%; margin: 20px auto;">
                <p>–ü—Ä–∏–≥–ª–∞—à–∞–π –±—Ä–æ –∏ –ø–æ–ª—É—á–∞–π % —Å –µ–≥–æ –ø–æ–±–µ–¥!</p>
                <button class="btn-main" style="padding:10px;">–ö–û–ü–ò–†–û–í–ê–¢–¨</button>
            </div>
        </div>

        <div class="nav">
            <div class="n-item active" onclick="tab('p-home', this)"><i>üé°</i><span>–ò–≥—Ä—ã</span></div>
            <div class="n-item" onclick="tab('p-inv', this)"><i>üéí</i><span>–°–∫–ª–∞–¥</span></div>
            <div class="n-item" onclick="tab('p-refs', this)"><i>ü§ù</i><span>–†–µ—Ñ</span></div>
            <div class="n-item" onclick="tg.close()"><i>‚ùå</i><span>–í—ã—Ö–æ–¥</span></div>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.HapticFeedback.impactOccurred('heavy');

        function tab(id, el) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.n-item').forEach(n => n.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            el.classList.add('active');
            tg.HapticFeedback.impactOccurred('medium');
        }

        // –†–ï–ù–î–ï–† –†–£–õ–ï–¢–ö–ò
        const tape = document.getElementById('tape');
        for(let i=0; i<80; i++) {
            const id = Math.floor(Math.random() * 2000) + 1;
            tape.innerHTML += `<div class="nft-slot"><img src="https://cache.tonapi.io{id}.png"></div>`;
        }

        function spin() {
            const cardWidth = 140; 
            const winner = 65; 
            const offset = (winner * cardWidth) - (window.innerWidth / 2) + (cardWidth / 2);
            tape.style.transform = `translateX(-${offset}px)`;
            tg.HapticFeedback.impactOccurred('heavy');
            setTimeout(() => {
                tg.HapticFeedback.notificationOccurred('success');
                tg.sendData(JSON.stringify({action: "spin"}));
            }, 5200);
        }

        // –ò–ù–í–ï–ù–¢–ê–†–¨
        const grid = document.getElementById('inv-grid');
        for(let i=0; i<30; i++) grid.innerHTML += `<div class="nft-slot" style="height:100px;"></div>`;

        // –ö–û–°–ú–ò–ß–ï–°–ö–ò–ô –≠–§–§–ï–ö–¢
        const canvas = document.getElementById('nebula');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        let stars = Array.from({length: 100}, () => ({x: Math.random()*canvas.width, y: Math.random()*canvas.height, r: Math.random()*1.5, o: Math.random()}));
        function animate() {
            ctx.clearRect(0,0,canvas.width, canvas.height);
            stars.forEach(s => {
                ctx.fillStyle = `rgba(255,255,255,${s.o})`;
                ctx.beginPath(); ctx.arc(s.x, s.y, s.r, 0, 7); ctx.fill();
                s.y -= 0.2; if(s.y < 0) s.y = canvas.height;
            });
            requestAnimationFrame(animate);
        }
        animate();
    </script>
</body>
</html>
